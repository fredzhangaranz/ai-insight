# Template System UI Mockups

**Last Updated:** 2025-10-06  
**Related:** [template_improvement_design.md](./template_improvement_design.md), [template_system_mvp_implementation_plan.md](../todos/template_system_mvp_implementation_plan.md)

## Purpose

This document provides detailed UI/UX mockups for the Template System (Phase 1 MVP). These mockups are designed to match the existing shadcn/ui + Radix + Tailwind design system used in the funnel UI.

**Target Users:** Developers creating and managing AI query templates

**Primary Workflow:** Templates are captured from successful queries using AI-assisted extraction, reducing manual authoring to quick review/approval.

---

## Table of Contents

1. [Template Review Modal (AI-Assisted Capture)](#template-review-modal-ai-assisted-capture) â€” **Primary workflow**
2. [Template Editor Modal (Manual Authoring)](#template-editor-modal-manual-authoring) â€” Fallback for edge cases
3. [Template Admin Page (Browse/Manage)](#template-admin-page-browsemanage)
4. [Apply Template Wizard (Slot-Filling)](#apply-template-wizard-slot-filling)
5. [Funnel Panel Template Info](#funnel-panel-template-info)
6. [Field Mapping Reference](#field-mapping-reference)
7. [Component Usage Guidelines](#component-usage-guidelines)

---

## Template Review Modal (AI-Assisted Capture)

**Path:** Triggered from Funnel Panel â†’ "Save as Template" button (after successful SQL execution)

**Purpose:** Streamlined review workflow for AI-extracted templates. Reduces 5-tab manual authoring to quick review/approval.

**Workflow:**

1. User generates successful SQL in funnel
2. Clicks "Save as Template" button
3. AI extraction API (`/api/ai/templates/extract`) analyzes (question, SQL, schema context)
4. Review modal opens with all fields pre-filled by AI
5. Developer reviews, optionally edits, and saves as Draft

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Review AI-Extracted Template                                                 âœ• â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                   â”‚
â”‚  ðŸ¤– AI has analyzed your successful query and generated a template draft.        â”‚
â”‚  Review and edit the fields below, then save as Draft.                           â”‚
â”‚                                                                                   â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘  BASIC INFO                                                               â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  Template Name * (AI-suggested)                                           â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚ Count Assessments by Time Window                                    â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘  ðŸ’¡ Based on your question pattern                                        â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  Intent * (AI-classified)                                                 â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚ Aggregation by category                                          â–¼  â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘  âœ… Confidence: 92% - based on COUNT and GROUP BY patterns               â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  Description (AI-generated)                                               â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚ Counts distinct assessments within a specified time window         â”‚ â•‘  â”‚
â”‚  â•‘  â”‚ for a given patient. Useful for analyzing visit frequency.         â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  Keywords (AI-extracted from question)                                    â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚ [count âœ•] [assessments âœ•] [time window âœ•] [patient âœ•] [+ Add]     â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                                   â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘  SQL PATTERN (AI-parameterized)                                           â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  SELECT COUNT(DISTINCT A.id) AS assessmentCount                     â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  FROM rpt.Assessment A                                               â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  JOIN rpt.DimDate D ON A.dimDateFk = D.id                            â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  WHERE A.patientFk = {patientId}                                    â”‚ â•‘  â”‚
â”‚  â•‘  â”‚    AND D.date > DATEADD(day, -{windowDays}, {endDate})             â”‚ â•‘  â”‚
â”‚  â•‘  â”‚    AND D.date <= {endDate}                                          â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘  âœ… 3 placeholders detected and parameterized                             â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                                   â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘  PLACEHOLDERS (AI-inferred types)                                         â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  â€¢ {patientId} â€” type: guid, semantic: patient_id, required         â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â€¢ {windowDays} â€” type: int, semantic: time_window, default: 180    â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â€¢ {endDate} â€” type: date, semantic: date_range_end, default: today â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘  ðŸ’¡ Types inferred from SQL context and schema                            â•‘  â”‚
â”‚  â•‘  [Edit Placeholders in Detail â†’]                                          â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                                   â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘  EXAMPLE QUESTIONS (AI-generated variations)                              â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  1. How many assessments did this patient have in the last 180 days?â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  2. Count assessments for patient in past 6 months                  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  3. Show me assessment count for patient by date range               â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘  [+ Add more examples]                                                     â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                                   â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘  VALIDATION                                                               â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘  âœ… All required fields complete                                          â•‘  â”‚
â”‚  â•‘  âœ… SQL validation passed                                                 â•‘  â”‚
â”‚  â•‘  âœ… Placeholders configured correctly                                     â•‘  â”‚
â”‚  â•‘  âœ… Ready to save as Draft                                                â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  [Cancel] [Open Full Editor] [Save as Draft]                               â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Components Used:**

- `Dialog` (large size, ~800px width)
- `Card` sections for each category
- `Input` for name and keywords
- `Select` for intent (overridable)
- `Textarea` for description and SQL (editable)
- `Badge` for keyword chips
- `Alert` for validation status
- `Button` for actions

**Key Features:**

- **All fields editable:** Developer can override any AI suggestion
- **Confidence indicators:** Show AI classification confidence where applicable
- **Quick save:** "Save as Draft" immediately creates template
- **Full editor escape hatch:** "Open Full Editor" opens 5-tab manual editor for complex refinements
- **Real-time validation:** Validation runs as developer edits fields

**AI Extraction Details:**

- **Intent classification:** Pattern matching (COUNT â†’ aggregation, ROW_NUMBER â†’ latest_per_entity, etc.)
- **Placeholder detection:** Regex + value analysis (GUIDs â†’ patient_id, numbers â†’ metrics/windows, dates â†’ time bounds)
- **Keyword extraction:** NLP from original question (noun phrases, domain terms)
- **Example generation:** Template original question + generated variations
- **Type inference:** FROM schema joins, WHERE clause patterns, parameter usage

---

## Template Editor Modal (Manual Authoring)

**Path:** Accessed from:

- Template Review Modal: "Open Full Editor" button (for complex refinements)
- Template Admin: "Edit" button on Draft templates
- Template Admin: "New Template" button (blank slate, edge cases)

**Component:** Full-screen modal with tabs (`Dialog` + `Tabs` from shadcn/ui)

### Tab 1: Basic Info

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create New Template                                                          âœ• â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                   â”‚
â”‚  â”Œâ”€ Tabs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  [1. Basic Info] [2. SQL Pattern] [3. Placeholders] [4. Examples] Preview â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                   â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘  TAB 1: BASIC INFO                                                        â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  Template Name *                                                          â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚ Count Assessments by Time Window                                    â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘  ðŸ’¡ Use descriptive names that explain the query purpose                 â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  Intent (Query Family) *                                                  â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚ Aggregation by category                                          â–¼  â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘  Options:                                                                 â•‘  â”‚
â”‚  â•‘    â€¢ Aggregation by category                                             â•‘  â”‚
â”‚  â•‘    â€¢ Time-series trend                                                   â•‘  â”‚
â”‚  â•‘    â€¢ Top-k by metric                                                     â•‘  â”‚
â”‚  â•‘    â€¢ Join analysis                                                       â•‘  â”‚
â”‚  â•‘    â€¢ As-of state query                                                   â•‘  â”‚
â”‚  â•‘    â€¢ Pivot/unpivot                                                       â•‘  â”‚
â”‚  â•‘    â€¢ Cohort comparison                                                   â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  Description                                                              â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚ Counts distinct assessments within a specified time window         â”‚ â•‘  â”‚
â”‚  â•‘  â”‚ for a given patient. Useful for analyzing patient visit            â”‚ â•‘  â”‚
â”‚  â•‘  â”‚ frequency and engagement over custom time periods.                 â”‚ â•‘  â”‚
â”‚  â•‘  â”‚                                                                     â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘  ðŸ“ Describe when this template should be used (100-300 chars)           â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  Keywords (comma-separated) *                                             â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚ count, assessments, time window, date range, patient               â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘  Detected: [count] [assessments] [time window] [date range] [patient]    â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  Tags (for organization)                                                  â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â•‘  â”‚
â”‚  â•‘  â”‚ [assessment-analysis âœ•] [time-series âœ•] [+ Add tag]                 â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â•‘  â”‚
â”‚  â•‘  Popular: [patient-analysis] [wound-tracking] [metrics]                  â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  SQL Dialect                                                              â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚ MS SQL Server (default)                                          â–¼  â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                                   [Cancel] [Save Draft] [Next: SQL Pattern â†’]â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Components Used:**

- `Dialog` (full-screen variant)
- `Tabs`, `TabsList`, `TabsTrigger`, `TabsContent`
- `Input` for name and keywords
- `Select` for intent and dialect
- `Textarea` for description
- `Badge` for tag display with remove button
- `Button` for actions

**Validation:**

- Name: Required, 3-100 chars
- Intent: Required, from taxonomy
- Keywords: Required, at least 3 keywords
- Description: Optional, recommended 100-300 chars

---

### Tab 2: SQL Pattern Editor

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create New Template                                                          âœ• â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€ Tabs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  [1. Basic Info] [2. SQL Pattern] [3. Placeholders] [4. Examples] Preview â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                   â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘  TAB 2: SQL PATTERN                                                       â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  SQL Pattern (use {placeholders} for dynamic values) *                    â•‘  â”‚
â”‚  â•‘  â”Œâ”€ Editor â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â•‘  â”‚
â”‚  â•‘  â”‚  1  SELECT                                                            â”‚â•‘  â”‚
â”‚  â•‘  â”‚  2      COUNT(DISTINCT A.id) AS assessmentCount                       â”‚â•‘  â”‚
â”‚  â•‘  â”‚  3  FROM rpt.Assessment A                                             â”‚â•‘  â”‚
â”‚  â•‘  â”‚  4  JOIN rpt.DimDate D ON A.dimDateFk = D.id                          â”‚â•‘  â”‚
â”‚  â•‘  â”‚  5  WHERE                                                              â”‚â•‘  â”‚
â”‚  â•‘  â”‚  6      A.patientFk = {patientId}                                     â”‚â•‘  â”‚
â”‚  â•‘  â”‚  7      AND D.date > DATEADD(day, -{windowDays}, {endDate})          â”‚â•‘  â”‚
â”‚  â•‘  â”‚  8      AND D.date <= {endDate}                                       â”‚â•‘  â”‚
â”‚  â•‘  â”‚                                                                        â”‚â•‘  â”‚
â”‚  â•‘  â”‚  [Format SQL] [Copy] [Paste from clipboard]                           â”‚â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  âœ¨ Smart Actions                                                          â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  ðŸ“‹ [Copy from Similar Template]     ðŸŽ¯ [Load from Query History]   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  ðŸ”„ [Import from Clipboard]          ðŸ“ [Use Starter Template]      â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  ðŸ” Detected Placeholders                                                 â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  âœ… {patientId}  (line 6)                                            â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  âœ… {windowDays}  (line 7)                                           â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  âœ… {endDate}  (lines 7, 8)                                          â”‚ â•‘  â”‚
â”‚  â•‘  â”‚                                                                      â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  ðŸ’¡ All placeholders detected! Configure them in the next tab.       â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  âš¡ Real-time Validation                                                  â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  âœ… SELECT-only check passed                                         â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  âœ… Schema prefixes correct (rpt.)                                   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  âš ï¸  Suggestion: Add TOP 1000 to limit result set                   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  âœ… No dangerous keywords detected                                   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  âœ… Valid MS SQL Server syntax                                       â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  ðŸ“Š Schema Helper (click to insert)                                       â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  Common Tables:                                                      â”‚ â•‘  â”‚
â”‚  â•‘  â”‚    [rpt.Assessment] [rpt.Patient] [rpt.Wound] [rpt.WoundState]      â”‚ â•‘  â”‚
â”‚  â•‘  â”‚    [rpt.DimDate] [rpt.Note]                                          â”‚ â•‘  â”‚
â”‚  â•‘  â”‚                                                                      â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  Common Patterns:                                                    â”‚ â•‘  â”‚
â”‚  â•‘  â”‚    [JOIN DimDate] [WHERE patient filter] [DATEADD time window]      â”‚ â•‘  â”‚
â”‚  â•‘  â”‚    [ROW_NUMBER() OVER] [COUNT DISTINCT] [GROUP BY]                  â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                     [â† Back] [Save Draft] [Next: Placeholders â†’]            â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Components Used:**

- `Textarea` with monospace font for SQL editor (consider Monaco/CodeMirror integration)
- `Alert` for validation messages (success/warning/error variants)
- `Button` for smart actions and helpers
- `Badge` for placeholder chips

**Validation:**

- SQL Pattern: Required, must contain at least one SELECT
- Placeholder detection: Regex `\{(\w+)\}` to find all placeholders
- Real-time checks: SELECT-only, schema prefix, dangerous keywords
- Line numbers for error reporting

**Smart Actions:**

- **Copy from Similar Template**: Opens dropdown of templates with similar intent
- **Load from Query History**: Browses recent successful queries in Funnel
- **Import from Clipboard**: Pastes SQL and attempts to detect placeholders
- **Use Starter Template**: Library of common SQL patterns (aggregation, join, etc.)

---

### Tab 3: Placeholders Configuration (Enhanced UX)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create New Template                                                          âœ• â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€ Tabs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  [1. Basic Info] [2. SQL Pattern] [3. Placeholders] [4. Examples] Preview â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                   â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘  TAB 3: PLACEHOLDERS CONFIGURATION                                        â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  ðŸŽ¯ Quick Setup Presets                                                    â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  ðŸ“‹ [Patient Filter]  ðŸ“… [Time Window]  ðŸ”¢ [Metric Aggregation]     â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  ðŸ” [Top-K Limiter]   ðŸ“Š [Dimension Grouping]  âš™ï¸ [Copy Template]   â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘  ðŸ’¡ Presets automatically configure common placeholder patterns           â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  Placeholder 1 of 3                                        [â–²] [â–¼] âœ• â”‚ â•‘  â”‚
â”‚  â•‘  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â•‘  â”‚
â”‚  â•‘  â”‚                                                                      â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  Placeholder Name: {patientId}  (detected from SQL)                 â”‚ â•‘  â”‚
â”‚  â•‘  â”‚                                                                      â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  ðŸ·ï¸ Configuration Style:                                             â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â—‹ Simple Mode (basic types only)                                   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â— Advanced Mode (full schema integration) â† Recommended            â”‚ â•‘  â”‚
â”‚  â•‘  â”‚                                                                      â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”Œâ”€ Advanced Mode â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚                                                              â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  Data Type *                                                 â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”‚ guid                                              â–¼  â”‚   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  Options: guid, int, string, date, boolean, decimal         â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚                                                              â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  Semantic Type (enables schema hints) *                      â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”‚ patient_id                                        â–¼  â”‚   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  ðŸ’¡ Links to rpt.Patient â†’ Shows patient search in UI       â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚                                                              â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  Common semantic types:                                      â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â€¢ patient_id, wound_id, assessment_id (entity IDs)          â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â€¢ time_window, date_range_start, date_range_end (time)      â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â€¢ metric_name, dimension_name (analysis)                    â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â€¢ top_k_limit (result limiting)                             â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â€¢ none (generic, no schema hints)                           â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚                                                              â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”Œâ”€ Schema Integration â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”‚ Source Table: rpt.Patient                            â”‚   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”‚ Value Column: id                                     â”‚   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”‚ Display Column: firstName + ' ' + lastName           â”‚   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”‚ Searchable: [âœ“]  Filterable: [âœ“]                    â”‚   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”‚                                                       â”‚   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”‚ ðŸŽ¨ UI Preview when applying template:                â”‚   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”‚ â”‚ patientId *                                â”‚       â”‚   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚       â”‚   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”‚ â”‚ â”‚ ðŸ” Search patients...            â–¼  â”‚   â”‚       â”‚   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚       â”‚   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”‚ â”‚ Recent: John Smith, Jane Doe, Bob Martin   â”‚       â”‚   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚                                                              â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  Required: [âœ“]                                               â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚                                                              â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  Default Value (optional)                                    â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”‚ (none - will prompt user)                            â”‚   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â„¹ï¸ Leave empty to always prompt user when applying          â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚                                                              â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  Validators (add rules)                                      â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”‚  [non-empty âœ•]                                       â”‚   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”‚  [+ Add validator â–¼]                                 â”‚   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”‚     â€¢ non-empty                                      â”‚   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”‚     â€¢ min: N (for numbers/strings)                   â”‚   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”‚     â€¢ max: N (for numbers/strings)                   â”‚   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”‚     â€¢ regex: pattern (for strings)                   â”‚   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â”‚     â€¢ valid-guid, valid-date                         â”‚   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚                                                              â”‚   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚                                                                      â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  Placeholder 2 of 3: {windowDays}                      [â–²] [â–¼] âœ•    â”‚ â•‘  â”‚
â”‚  â•‘  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â•‘  â”‚
â”‚  â•‘  â”‚  â— Simple Mode â—‹ Advanced Mode                                       â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  Type: [int â–¼]  Semantic: [time_window â–¼]  Required: [âœ“]            â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  Default: [180]  Validators: [min:1 âœ•] [max:365 âœ•]                  â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  Placeholder 3 of 3: {endDate}                         [â–²] [â–¼] âœ•    â”‚ â•‘  â”‚
â”‚  â•‘  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â•‘  â”‚
â”‚  â•‘  â”‚  â— Simple Mode â—‹ Advanced Mode                                       â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  Type: [date â–¼]  Semantic: [date_range_end â–¼]  Required: [ ]        â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  Default: [GETUTCDATE()]  Validators: [valid-date âœ•]                â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  [+ Add Another Placeholder]                                              â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  âœ… Validation Summary                                                    â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  âœ… All SQL placeholders configured                                  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  âœ… No orphaned placeholders in SQL                                  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  âœ… 1 required field (patientId)                                     â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  âœ… 2 optional fields with defaults                                  â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                       [â† Back] [Save Draft] [Next: Examples â†’]              â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Components Used:**

- `Accordion` or `Collapsible` for each placeholder card
- `RadioGroup` for Simple/Advanced mode toggle
- `Select` for type and semantic type dropdowns
- `Checkbox` for required, searchable, filterable
- `Input` for default values
- `Badge` for validator chips
- `Button` for preset actions and add/remove
- `Alert` for UI preview rendering

**Key Features:**

1. **Two-Mode Configuration:**

   - Simple Mode: Type + Required + Default + Validators (covers 80% of use cases)
   - Advanced Mode: Full schema integration with UI preview

2. **Quick Setup Presets:**

   - **Patient Filter**: Auto-configures `{patientId}` with schema linking
   - **Time Window**: Adds `{startDate}`, `{endDate}`, `{windowDays}` bundle
   - **Top-K Limiter**: Adds `{topK}` with min/max validators
   - **Copy from Template**: Clone placeholder configs from existing template

3. **Schema Integration:**

   - Links semantic types to database tables
   - Generates UI preview showing how placeholder will render in Apply Template wizard
   - Supports searchable dropdowns with display column expressions

4. **Validation:**
   - Checks all SQL placeholders are configured
   - Warns about placeholders in config but not in SQL (orphaned)
   - Validates data types match semantic types
   - Validator syntax validation

---

### Tab 4: Example Questions

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create New Template                                                          âœ• â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€ Tabs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  [1. Basic Info] [2. SQL Pattern] [3. Placeholders] [4. Examples] Preview â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                   â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘  TAB 4: EXAMPLE QUESTIONS                                                 â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  ðŸ’¡ Add 3-5 example questions to help template matching                    â•‘  â”‚
â”‚  â•‘  These examples train the AI to recognize when to use this template       â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  Example 1 of 3                                                            â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚ How many assessments did this patient have in the last 6 months?    â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘  Matched Keywords: assessments, patient, 6 months                          â•‘  â”‚
â”‚  â•‘  [âœ• Remove] [â–² Move Up] [â–¼ Move Down]                                     â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  Example 2 of 3                                                            â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚ Count assessments for patient in past 180 days                      â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘  Matched Keywords: count, assessments, patient, 180 days                   â•‘  â”‚
â”‚  â•‘  [âœ• Remove] [â–² Move Up] [â–¼ Move Down]                                     â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  Example 3 of 3                                                            â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚ Show me assessment count by date range                               â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘  Matched Keywords: assessment, count, date range                           â•‘  â”‚
â”‚  â•‘  [âœ• Remove] [â–² Move Up] [â–¼ Move Down]                                     â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚ + Add another example                                                â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  ðŸŽ¯ Smart Example Generator                                                â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  [ðŸ¤– Generate Examples from Keywords]                                â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  [ðŸ“‹ Import from Similar Templates]                                  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  [ðŸ“Š Use Most Common Questions]                                      â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  âš¡ Example Quality Check                                                  â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  âœ… 3 examples provided (minimum met)                                â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  âœ… Examples cover all keywords                                      â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  âœ… Examples show variety (different phrasings)                      â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  ðŸ’¡ Tip: Add 2 more examples for better matching accuracy           â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                        [â† Back] [Save Draft] [Preview & Finish â†’]           â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Components Used:**

- `Textarea` for each example question
- `Button` for remove, move up/down actions
- `Badge` for keyword highlighting
- `Alert` for quality check feedback

**Smart Generators:**

- **Generate from Keywords**: Uses keywords to create natural language examples
- **Import from Similar**: Loads examples from templates with same intent
- **Most Common Questions**: Shows frequently asked questions from TemplateUsage logs

**Validation:**

- Minimum 3 examples required
- Each example should contain at least 2 keywords
- Examples should show variety (not duplicates with minor wording changes)

---

### Tab 5: Preview & Validation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create New Template                                                          âœ• â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€ Tabs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  [1. Basic Info] [2. SQL Pattern] [3. Placeholders] [4. Examples] Preview â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                   â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘  PREVIEW & VALIDATION                                                     â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  ðŸ“‹ Template Summary                                                       â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  Name: Count Assessments by Time Window                             â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  Intent: Aggregation by category                                    â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  Keywords: count, assessments, time window, date range, patient     â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  Tags: [assessment-analysis] [time-series]                          â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  Status: Draft (will be saved as Draft)                             â”‚ â•‘  â”‚
â”‚  â•‘  â”‚                                                                      â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  [Edit Basic Info â†’]                                                 â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  ðŸ“ SQL Pattern Preview                                                    â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  SELECT                                                              â”‚ â•‘  â”‚
â”‚  â•‘  â”‚      COUNT(DISTINCT A.id) AS assessmentCount                         â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  FROM rpt.Assessment A                                               â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  JOIN rpt.DimDate D ON A.dimDateFk = D.id                            â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  WHERE                                                                â”‚ â•‘  â”‚
â”‚  â•‘  â”‚      A.patientFk = {patientId}                                       â”‚ â•‘  â”‚
â”‚  â•‘  â”‚      AND D.date > DATEADD(day, -{windowDays}, {endDate})            â”‚ â•‘  â”‚
â”‚  â•‘  â”‚      AND D.date <= {endDate}                                         â”‚ â•‘  â”‚
â”‚  â•‘  â”‚                                                                      â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  [Edit SQL Pattern â†’]                                                â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  ðŸŽ›ï¸ Placeholders (3)                                                       â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  â€¢ {patientId} - guid, patient_id, required, searchable             â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â€¢ {windowDays} - int, time_window, optional (default: 180), 1-365  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â€¢ {endDate} - date, date_range_end, optional (default: today)      â”‚ â•‘  â”‚
â”‚  â•‘  â”‚                                                                      â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  [Edit Placeholders â†’]                                               â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  ðŸ’¬ Example Questions (3)                                                  â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  1. How many assessments did this patient have in the last 6 months?â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  2. Count assessments for patient in past 180 days                  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  3. Show me assessment count by date range                           â”‚ â•‘  â”‚
â”‚  â•‘  â”‚                                                                      â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  [Edit Examples â†’]                                                   â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  âœ… Final Validation                                                       â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  âœ… All required fields complete                                     â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  âœ… SQL validation passed                                            â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  âœ… All placeholders configured                                      â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  âœ… Minimum 3 examples provided                                      â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  âœ… Ready to save as Draft                                           â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  ðŸŽ¯ What Happens Next?                                                     â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  1. Template saved as Draft (version 1)                             â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  2. Test it in the Funnel UI by asking matching questions           â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  3. Edit if needed (Drafts are editable)                            â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  4. Publish to make available to all developers                     â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  5. Monitor usage and success rate in Template Admin                â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                        [â† Back] [Save as Draft] [Save & Test in Funnel]     â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Components Used:**

- `Card` or `Alert` for summary sections
- `Button` for edit actions linking back to specific tabs
- `Alert` (success variant) for validation results

**Actions:**

- **Edit [Section]**: Jumps to specific tab for edits
- **Save as Draft**: Creates Draft template, stays in modal to show confirmation
- **Save & Test in Funnel**: Creates Draft + navigates to Funnel page with template preselected

---

## Template Admin Page (Browse/Manage)

**Path:** `/admin/templates` or `/templates` (feature-flagged)

**Purpose:** Central hub for discovering, browsing, editing, and managing all templates

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                                   â”‚
â”‚  Template Catalog                                             [+ New Template]   â”‚
â”‚                                                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                   â”‚
â”‚  â”Œâ”€ Search & Filters â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                                            â”‚  â”‚
â”‚  â”‚  ðŸ” [Search templates by name, keywords, or description...___________]    â”‚  â”‚
â”‚  â”‚                                                                            â”‚  â”‚
â”‚  â”‚  Status: [All â–¼] [Draft â–¼] [Approved â–¼] [Deprecated â–¼]                   â”‚  â”‚
â”‚  â”‚  Intent: [All â–¼] [Aggregation â–¼] [Time-series â–¼] [Top-k â–¼] [Join â–¼]     â”‚  â”‚
â”‚  â”‚  Tags:   [All â–¼] [assessment-analysis â–¼] [wound-tracking â–¼] [patient â–¼]  â”‚  â”‚
â”‚  â”‚  Sort by: [Most Used â–¼] [Newest â–¼] [Success Rate â–¼] [Name A-Z â–¼]         â”‚  â”‚
â”‚  â”‚                                                                            â”‚  â”‚
â”‚  â”‚  [Clear Filters]                                       23 templates found  â”‚  â”‚
â”‚  â”‚                                                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                   â”‚
â”‚  â”Œâ”€ Quick Stats â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ðŸ“Š Total: 23  â”‚  âœ… Approved: 18  â”‚  ðŸ“ Draft: 3  â”‚  ðŸš« Deprecated: 2   â”‚  â”‚
â”‚  â”‚  ðŸ“ˆ Avg Success Rate: 82%  â”‚  ðŸ”¥ Most Used: "Count Assessments by Time"   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                   â”‚
â”‚  â”Œâ”€ View Mode â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  [Grid View] [List View] [Table View]                      View: Grid     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                           GRID VIEW (Default)                             â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚  â”‚
â”‚  â”‚  â”‚ ðŸ“‹ Count Assessments by â”‚  â”‚ ðŸ“Š Wound State Timeline â”‚                â”‚  â”‚
â”‚  â”‚  â”‚    Time Window          â”‚  â”‚    by Patient           â”‚                â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                â”‚  â”‚
â”‚  â”‚  â”‚                         â”‚  â”‚                         â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ Status: âœ… Approved     â”‚  â”‚ Status: âœ… Approved     â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ Intent: Aggregation     â”‚  â”‚ Intent: Time-series     â”‚                â”‚  â”‚
â”‚  â”‚  â”‚                         â”‚  â”‚                         â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ Success Rate: 87%       â”‚  â”‚ Success Rate: 92%       â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ Usage: 127 times        â”‚  â”‚ Usage: 89 times         â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ Last used: 2 hours ago  â”‚  â”‚ Last used: 1 day ago    â”‚                â”‚  â”‚
â”‚  â”‚  â”‚                         â”‚  â”‚                         â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ Tags:                   â”‚  â”‚ Tags:                   â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ [assessment] [time]     â”‚  â”‚ [wound] [timeline]      â”‚                â”‚  â”‚
â”‚  â”‚  â”‚                         â”‚  â”‚                         â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ Keywords: count,        â”‚  â”‚ Keywords: wound,        â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ assessments, window     â”‚  â”‚ state, timeline         â”‚                â”‚  â”‚
â”‚  â”‚  â”‚                         â”‚  â”‚                         â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ [View Details]          â”‚  â”‚ [View Details]          â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ [Apply in Funnel]       â”‚  â”‚ [Apply in Funnel]       â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ [â‹® More]                â”‚  â”‚ [â‹® More]                â”‚                â”‚  â”‚
â”‚  â”‚  â”‚   â€¢ Duplicate           â”‚  â”‚   â€¢ Duplicate           â”‚                â”‚  â”‚
â”‚  â”‚  â”‚   â€¢ Deprecate           â”‚  â”‚   â€¢ Deprecate           â”‚                â”‚  â”‚
â”‚  â”‚  â”‚   â€¢ View Usage          â”‚  â”‚   â€¢ View Usage          â”‚                â”‚  â”‚
â”‚  â”‚  â”‚   â€¢ Export JSON         â”‚  â”‚   â€¢ Export JSON         â”‚                â”‚  â”‚
â”‚  â”‚  â”‚                         â”‚  â”‚                         â”‚                â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚  â”‚
â”‚  â”‚                                                                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚  â”‚
â”‚  â”‚  â”‚ ðŸ“ Patient Risk Score   â”‚  â”‚ ðŸ” Top Wounds by        â”‚                â”‚  â”‚
â”‚  â”‚  â”‚    Calculation          â”‚  â”‚    Healing Time         â”‚                â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                â”‚  â”‚
â”‚  â”‚  â”‚                         â”‚  â”‚                         â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ Status: ðŸ“ Draft        â”‚  â”‚ Status: âœ… Approved     â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ Intent: Aggregation     â”‚  â”‚ Intent: Top-k           â”‚                â”‚  â”‚
â”‚  â”‚  â”‚                         â”‚  â”‚                         â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ Success Rate: N/A       â”‚  â”‚ Success Rate: 78%       â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ Usage: 0 times          â”‚  â”‚ Usage: 45 times         â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ Created: 1 hour ago     â”‚  â”‚ Last used: 5 hours ago  â”‚                â”‚  â”‚
â”‚  â”‚  â”‚                         â”‚  â”‚                         â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ Tags:                   â”‚  â”‚ Tags:                   â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ [patient] [risk]        â”‚  â”‚ [wound] [top-k]         â”‚                â”‚  â”‚
â”‚  â”‚  â”‚                         â”‚  â”‚                         â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ Keywords: patient,      â”‚  â”‚ Keywords: top, wounds,  â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ risk, score             â”‚  â”‚ healing, time           â”‚                â”‚  â”‚
â”‚  â”‚  â”‚                         â”‚  â”‚                         â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ [Edit Draft]            â”‚  â”‚ [View Details]          â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ [Publish]               â”‚  â”‚ [Apply in Funnel]       â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ [Delete Draft]          â”‚  â”‚ [â‹® More]                â”‚                â”‚  â”‚
â”‚  â”‚  â”‚                         â”‚  â”‚                         â”‚                â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚  â”‚
â”‚  â”‚                                                                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚  â”‚
â”‚  â”‚  â”‚ ðŸš« Legacy Patient Count â”‚  â”‚ ðŸ“Š Assessment Frequency â”‚                â”‚  â”‚
â”‚  â”‚  â”‚    (DEPRECATED)         â”‚  â”‚    by Form Type         â”‚                â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                â”‚  â”‚
â”‚  â”‚  â”‚                         â”‚  â”‚                         â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ Status: ðŸš« Deprecated   â”‚  â”‚ Status: âœ… Approved     â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ Intent: Aggregation     â”‚  â”‚ Intent: Aggregation     â”‚                â”‚  â”‚
â”‚  â”‚  â”‚                         â”‚  â”‚                         â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ Success Rate: 45% âš ï¸    â”‚  â”‚ Success Rate: 95% ðŸ”¥    â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ Usage: 89 (historic)    â”‚  â”‚ Usage: 203 times        â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ Deprecated: 2 weeks ago â”‚  â”‚ Last used: 30 min ago   â”‚                â”‚  â”‚
â”‚  â”‚  â”‚                         â”‚  â”‚                         â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ âš ï¸ Use instead:          â”‚  â”‚ Tags:                   â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ "Count Assessments v2"  â”‚  â”‚ [assessment] [frequency]â”‚                â”‚  â”‚
â”‚  â”‚  â”‚                         â”‚  â”‚                         â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ [View History]          â”‚  â”‚ [View Details] â­       â”‚                â”‚  â”‚
â”‚  â”‚  â”‚ [View Replacement â†’]    â”‚  â”‚ [Apply in Funnel]       â”‚                â”‚  â”‚
â”‚  â”‚  â”‚                         â”‚  â”‚ [â‹® More]                â”‚                â”‚  â”‚
â”‚  â”‚  â”‚                         â”‚  â”‚                         â”‚                â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚  â”‚
â”‚  â”‚                                                                           â”‚  â”‚
â”‚  â”‚  [Load More...]                                            Page 1 of 4    â”‚  â”‚
â”‚  â”‚                                                                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Template Detail View (Modal or Side Panel)

**Opened when:** Click "View Details" on any template card

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Template Details: Count Assessments by Time Window                           âœ• â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                   â”‚
â”‚  â”Œâ”€ Header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Count Assessments by Time Window                    Status: âœ… Approved  â”‚  â”‚
â”‚  â”‚  Intent: Aggregation by category                     Version: 2 (active)  â”‚  â”‚
â”‚  â”‚                                                                            â”‚  â”‚
â”‚  â”‚  [Apply in Funnel] [Duplicate] [Deprecate] [â‹® More Actions]               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                   â”‚
â”‚  â”Œâ”€ Tabs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  [Overview] [SQL Pattern] [Placeholders] [Examples] [Usage] [History]    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                   â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘  TAB: OVERVIEW                                                            â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  Description                                                              â•‘  â”‚
â”‚  â•‘  Counts distinct assessments within a specified time window for a        â•‘  â”‚
â”‚  â•‘  given patient. Useful for analyzing patient visit frequency and         â•‘  â”‚
â”‚  â•‘  engagement over custom time periods.                                     â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  Keywords                                                                  â•‘  â”‚
â”‚  â•‘  [count] [assessments] [time window] [date range] [patient]               â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  Tags                                                                      â•‘  â”‚
â”‚  â•‘  [assessment-analysis] [time-series]                                       â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  ðŸ“Š Usage Statistics                                                       â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  Total Uses: 127                      Last Used: 2 hours ago        â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  Success Rate: 87% âœ…                  Avg Latency: 450ms            â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  Failed Uses: 16                       Error Types: 12 schema, 4 timeoutâ”‚â•‘â•‘
â”‚  â•‘  â”‚                                                                      â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  ðŸ“ˆ Usage Trend (last 30 days)                                       â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  [Mini line chart showing daily usage]                               â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  ðŸ”„ Version History                                                        â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  â€¢ Version 2 (active) - Published 3 weeks ago by alice@aranz.com    â”‚ â•‘  â”‚
â”‚  â•‘  â”‚    Changes: Added endDate parameter, improved date filtering        â”‚ â•‘  â”‚
â”‚  â•‘  â”‚    [View v2 Details] [Compare with v1]                               â”‚ â•‘  â”‚
â”‚  â•‘  â”‚                                                                      â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â€¢ Version 1 - Published 6 months ago by bob@aranz.com              â”‚ â•‘  â”‚
â”‚  â•‘  â”‚    Initial release                                                   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚    [View v1 Details] [Restore to v1]                                 â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  ðŸ“ Metadata                                                               â•‘  â”‚
â”‚  â•‘  Created: 2024-04-15 by bob@aranz.com                                     â•‘  â”‚
â”‚  â•‘  Updated: 2024-09-20 by alice@aranz.com                                   â•‘  â”‚
â”‚  â•‘  Dialect: MS SQL Server                                                   â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                                   â”‚
â”‚  [Close]                                                                          â”‚
â”‚                                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Other Detail Tabs:**

- **SQL Pattern**: Read-only view of sqlPattern with syntax highlighting
- **Placeholders**: Table view of all placeholders with type/semantic/validators
- **Examples**: List of all example questions with matched keywords
- **Usage**: Detailed usage logs with success/failure breakdown, recent queries
- **History**: Full version changelog with diffs between versions

---

## Apply Template Wizard (Slot-Filling)

**Path:** Funnel Panel â†’ "Apply Template" button (when template matched or manually selected)

**Purpose:** Fill placeholder values to generate SQL from template

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Apply Template: Count Assessments by Time Window                            âœ• â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                   â”‚
â”‚  Fill in the required fields to generate SQL from this template                  â”‚
â”‚                                                                                   â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘  REQUIRED FIELDS                                                          â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  patientId * (guid)                                                        â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚ ðŸ” Search patients...                                            â–¼  â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘  ðŸ’¡ Start typing patient name or ID                                       â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  Recent patients:                                                          â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  â€¢ John Smith (ID: ABC-123-XYZ) - Last accessed: 1 hour ago        â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â€¢ Jane Doe (ID: DEF-456-UVW) - Last accessed: 2 days ago          â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â€¢ Bob Martin (ID: GHI-789-RST) - Last accessed: 1 week ago        â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                                   â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘  OPTIONAL FIELDS                                                          â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  windowDays (int)                                                          â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚ 180                                                                  â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘  Default: 180  â”‚  Range: 1-365                                             â•‘  â”‚
â”‚  â•‘  â„¹ï¸ Number of days to look back                                            â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  endDate (date)                                                            â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚ 2025-10-06                                                      ðŸ“…  â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘  Default: Today                                                            â•‘  â”‚
â”‚  â•‘  â„¹ï¸ End date for the time window                                           â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                                   â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘  SQL PREVIEW                                                              â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  SELECT                                                              â”‚ â•‘  â”‚
â”‚  â•‘  â”‚      COUNT(DISTINCT A.id) AS assessmentCount                         â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  FROM rpt.Assessment A                                               â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  JOIN rpt.DimDate D ON A.dimDateFk = D.id                            â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  WHERE                                                                â”‚ â•‘  â”‚
â”‚  â•‘  â”‚      A.patientFk = 'ABC-123-XYZ'                                     â”‚ â•‘  â”‚
â”‚  â•‘  â”‚      AND D.date > DATEADD(day, -180, '2025-10-06')                  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚      AND D.date <= '2025-10-06'                                      â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•‘  âœ… Validation passed - Ready to generate                                 â•‘  â”‚
â”‚  â•‘                                                                           â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                               [Cancel] [Generate SQL & Execute]             â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Components Used:**

- `Dialog` (medium size)
- `Select` with `Combobox` for searchable patient dropdown
- `Input` (number) for windowDays with validation
- `Input` (date) or `DatePicker` for endDate
- `Textarea` (read-only, monospace) for SQL preview
- `Alert` for validation status

**Features:**

- **Real-time Preview**: SQL updates as user fills fields
- **Schema-powered Dropdowns**: Patient selector queries rpt.Patient with search
- **Validation**: Required fields checked; validators (min/max) enforced
- **Smart Defaults**: Optional fields pre-filled with defaults from placeholdersSpec
- **Recent Values**: Shows recently used patients for quick selection

---

## Funnel Panel Template Info

**Path:** Funnel Panel â†’ After SQL generated with matched template

**Purpose:** Show which template was used and allow applying templates

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FunnelPanel (existing component with template info added)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                   â”‚
â”‚  [... existing Question and SQL sections ...]                                    â”‚
â”‚                                                                                   â”‚
â”‚  â”Œâ”€ SQL Metadata (existing expandable sections) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                                            â”‚   â”‚
â”‚  â”‚  ðŸ“ Explanation  [â–¼]                                                       â”‚   â”‚
â”‚  â”‚  ðŸ” Validation Notes  [â–¼]                                                  â”‚   â”‚
â”‚  â”‚                                                                            â”‚   â”‚
â”‚  â”‚  ðŸ·ï¸ Matched Template  [â–¼]                                                  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚  Template: Count Assessments by Time Window                        â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  Match Score: 0.87  â”‚  Success Rate: 87%                           â”‚   â”‚   â”‚
â”‚  â”‚  â”‚                                                                     â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  ðŸ’¡ Why matched:                                                    â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Keywords: "count", "assessments", "time window"                 â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Example: "How many assessments in the last 6 months"            â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Intent: Aggregation by category                                 â”‚   â”‚   â”‚
â”‚  â”‚  â”‚                                                                     â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  [View Template Details] [Apply Different Template] [Save as New]  â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                   â”‚
â”‚  â”Œâ”€ Template Actions â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ðŸ’¡ This SQL works well! Turn it into a reusable template:                â”‚  â”‚
â”‚  â”‚  [ðŸ’¾ Save as Template]                                                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Components Used:**

- `Collapsible` for "Matched Template" section (consistent with existing Explanation/Validation Notes)
- `Badge` for match score and success rate
- `Alert` (info variant) for "Save as Template" prompt
- `Button` for template actions

**Features:**

- **"Save as Template" Button** (Primary Capture Workflow):
  - Appears after successful SQL execution (results returned, no errors)
  - Triggers AI extraction API call: `POST /api/ai/templates/extract { questionText, sqlQuery, schemaContext }`
  - Opens Template Review Modal with AI-drafted template pre-filled
  - Single-click path from success to template creation
- **Match Rationale**: Shows why this template was selected (keywords, example, score)
- **Success Rate**: Displays template's historical success rate from TemplateUsage
- **Actions**:
  - **View Template Details**: Opens Template Detail modal
  - **Apply Different Template**: Opens template selector to manually pick another template

---

## Field Mapping Reference

### User-Entered Fields (Template Editor)

| Field                | Input Type   | Location         | Required | Notes                               |
| -------------------- | ------------ | ---------------- | -------- | ----------------------------------- |
| **name**             | Text         | Tab 1            | âœ…       | 3-100 chars, descriptive            |
| **intent**           | Dropdown     | Tab 1            | âœ…       | From taxonomy (7 options)           |
| **description**      | Textarea     | Tab 1            | âŒ       | 100-300 chars recommended           |
| **keywords**         | Tag input    | Tab 1            | âœ…       | Comma-separated, min 3              |
| **tags**             | Tag picker   | Tab 1            | âŒ       | For organization/filtering          |
| **dialect**          | Dropdown     | Tab 1            | âœ…       | Default 'mssql'                     |
| **sqlPattern**       | Code editor  | Tab 2            | âœ…       | Must contain SELECT; {placeholders} |
| **placeholdersSpec** | Complex form | Tab 3            | âœ…       | See placeholder table below         |
| **examples**         | Text list    | Tab 4            | âœ…       | Min 3, max recommended 5            |
| **notes**            | Textarea     | Tab 1 (optional) | âŒ       | Developer notes                     |

### Placeholder Configuration Fields (per placeholder)

| Field                             | Input Type           | Required | Notes                                                |
| --------------------------------- | -------------------- | -------- | ---------------------------------------------------- |
| **name**                          | Text (auto-detected) | âœ…       | From {placeholder} in SQL                            |
| **type**                          | Dropdown             | âœ…       | guid, int, string, date, boolean, decimal            |
| **semantic**                      | Dropdown             | âœ…       | patient_id, wound_id, time_window, etc.              |
| **required**                      | Checkbox             | âœ…       | Must fill when applying template                     |
| **default**                       | Text                 | âŒ       | Can be SQL expression (e.g., GETUTCDATE())           |
| **validators**                    | Multi-tag            | âŒ       | non-empty, min:N, max:N, regex:pattern               |
| **Schema Integration (Advanced)** |                      |          |                                                      |
| **sourceTable**                   | Dropdown             | âŒ       | rpt.Patient, rpt.Wound, etc.                         |
| **valueColumn**                   | Dropdown             | âŒ       | Column to use as value (usually 'id')                |
| **displayColumn**                 | Expression           | âŒ       | Column(s) to show in UI (e.g., firstName + lastName) |
| **searchable**                    | Checkbox             | âŒ       | Enable search in Apply Template wizard               |
| **filterable**                    | Checkbox             | âŒ       | Enable filtering in Apply Template wizard            |

### Auto-Generated Fields

| Field                               | Source                   | Notes                                |
| ----------------------------------- | ------------------------ | ------------------------------------ |
| **Template.id**                     | Database serial          |                                      |
| **Template.status**                 | 'Draft' on create        | Changed to 'Approved' on publish     |
| **Template.activeVersionId**        | Set on publish           | Points to current TemplateVersion.id |
| **Template.createdBy**              | Auth session             | User email/username                  |
| **Template.createdAt**              | NOW()                    |                                      |
| **Template.updatedAt**              | Trigger                  | Auto-updates on any change           |
| **TemplateVersion.id**              | Database serial          |                                      |
| **TemplateVersion.templateId**      | FK linkage               |                                      |
| **TemplateVersion.version**         | Increment                | 1, 2, 3... (immutable)               |
| **TemplateVersion.validationRules** | Generated from validator | JSON of validation results           |
| **TemplateVersion.resultShape**     | Inferred from SELECT     | Phase 2 feature                      |
| **TemplateVersion.createdAt**       | NOW()                    |                                      |

---

## Component Usage Guidelines

### shadcn/ui Components Mapping

| UI Element           | Component                                                 | Import                        |
| -------------------- | --------------------------------------------------------- | ----------------------------- |
| Modal dialogs        | `Dialog`, `DialogContent`, `DialogHeader`, `DialogFooter` | `@/components/ui/dialog`      |
| Tabs                 | `Tabs`, `TabsList`, `TabsTrigger`, `TabsContent`          | `@/components/ui/tabs`        |
| Text inputs          | `Input`                                                   | `@/components/ui/input`       |
| Dropdowns            | `Select`, `SelectTrigger`, `SelectContent`, `SelectItem`  | `@/components/ui/select`      |
| Searchable dropdowns | `Combobox` (or custom with `Popover` + `Command`)         | `@/components/ui/command`     |
| Multi-line text      | `Textarea`                                                | `@/components/ui/textarea`    |
| Tags/chips           | `Badge`                                                   | `@/components/ui/badge`       |
| Buttons              | `Button`                                                  | `@/components/ui/button`      |
| Alerts/notifications | `Alert`, `AlertTitle`, `AlertDescription`                 | `@/components/ui/alert`       |
| Expandable sections  | `Collapsible`, `CollapsibleTrigger`, `CollapsibleContent` | `@/components/ui/collapsible` |
| Cards                | `Card`, `CardHeader`, `CardContent`, `CardFooter`         | `@/components/ui/card`        |
| Toggle groups        | `RadioGroup`, `RadioGroupItem`                            | `@/components/ui/radio-group` |
| Checkboxes           | `Checkbox`                                                | `@/components/ui/checkbox`    |
| Date picker          | `Calendar` (Radix)                                        | `@/components/ui/calendar`    |

### Styling Conventions

**Consistent with existing Funnel UI:**

- Use Tailwind utility classes
- Color scheme:
  - Primary actions: `bg-blue-500`, `text-white`, `hover:bg-blue-600`
  - Success: `bg-green-500`, `text-white`, `hover:bg-green-600`
  - Warning: `bg-yellow-500`, `text-white`, `hover:bg-yellow-600`
  - Danger: `bg-red-500`, `text-white`, `hover:bg-red-600`
  - Draft status: `bg-yellow-100`, `text-yellow-800`
  - Approved status: `bg-green-100`, `text-green-800`
  - Deprecated status: `bg-red-100`, `text-red-800`
- Spacing: Consistent padding (p-4, p-6) and gaps (space-y-4, gap-4)
- Borders: `border`, `border-gray-200`, `rounded-lg`, `shadow-md`
- Text sizes:
  - Headers: `text-lg`, `font-semibold`
  - Labels: `text-sm`, `font-medium`
  - Body: `text-sm`
  - Helper text: `text-xs`, `text-gray-500`

### Validation Feedback

**Real-time validation display:**

- âœ… Success: Green checkmark + message
- âš ï¸ Warning: Yellow warning icon + suggestion
- âŒ Error: Red X + error message with actionable fix

**Example:**

```tsx
<Alert variant="destructive"> {/* Error */}
  <AlertTriangle className="h-4 w-4" />
  <AlertTitle>Validation Error</AlertTitle>
  <AlertDescription>
    Placeholder {patientId} is used in SQL but not configured. Go to Tab 3 to configure it.
  </AlertDescription>
</Alert>

<Alert> {/* Info/Success */}
  <CheckCircle2 className="h-4 w-4" />
  <AlertTitle>All checks passed!</AlertTitle>
  <AlertDescription>
    Template is ready to save as Draft.
  </AlertDescription>
</Alert>
```

---

## Responsive Design

**Desktop (Primary):**

- Modal: Max-width 1200px for Template Editor
- Grid view: 3 columns for template cards

**Tablet (768px - 1024px):**

- Modal: Max-width 90vw
- Grid view: 2 columns

**Mobile (< 768px):**

- Modal: Full-screen
- Grid view: 1 column (stacked)
- Tabs: Horizontal scrollable tabs
- Placeholder cards: Collapse to simple mode by default

---

## Accessibility

- All form inputs have associated `<label>` elements
- Keyboard navigation: Tab through fields, Enter to submit, Esc to close modals
- ARIA labels for icon-only buttons
- Focus indicators visible on all interactive elements
- Error messages linked to form fields with `aria-describedby`
- Color contrast meets WCAG AA standards (4.5:1 for text)

---

## Future Enhancements (Phase 2)

**Not in MVP but planned:**

- Drag-and-drop placeholder reordering
- SQL syntax highlighting with Monaco Editor
- Template diff viewer (compare versions side-by-side)
- Bulk import/export templates as JSON bundles
- Template performance profiling dashboard
- A/B testing UI for template variations
- AI-generated example questions from SQL pattern
- Smart placeholder type inference from SQL usage patterns

---

## Related Documents

- [Template Improvement Design](./template_improvement_design.md) - Architecture and data model
- [Template System MVP Implementation Plan](../todos/template_system_mvp_implementation_plan.md) - Development stages
- [Database Schema](../../database/migration/011_create_template_catalog.sql) - Table definitions

---

**End of UI Mockups Document**
